"use strict";document.addEventListener("DOMContentLoaded", function () {

  (function () {
    var squares = [];
    var canvas = null;
    var lastFrame = new Date().getTime();
    var delta = 0;
    var mousePos = null;
    var debug = false;
    var click = false;
    var properties = {
      cols: 64,
      rows: 32,
      color: "#3695de",
      altColor: "#1564a1",
      sLength: 0,
      activeAmt: 0.25,
      easeIn: 0.25 };


    var init = function init() {
      canvas = document.createElement('canvas');
      document.getElementsByClassName('background')[0].appendChild(canvas);

      canvas.width = canvas.offsetWidth;
      canvas.height = canvas.offsetWidth / properties.cols * properties.rows;
      properties.sLength = canvas.offsetWidth / properties.cols;

      // Generate the Grid
      for (var r = 0; r < properties.rows; r++) {
        squares[r] = [];
        for (var c = 0; c < properties.cols; c++) {
          squares[r][c] = null;
        }
      }

      canvas.addEventListener('mousemove', function (evt) {
        mousePos = getMousePos(evt);
      });

      canvas.addEventListener('mouseout', function (evt) {
        mousePos = null;
      });

      canvas.addEventListener('mousedown', function (evt) {
        mousePos = getMousePos(evt);
        click = true;
      });
    };

    var step = function step() {
      delta = (new Date().getTime() - lastFrame) / 1000;
      lastFrame = new Date().getTime();

      // Spawn new Squares
      for (var i = 0; i < Math.ceil(properties.cols * delta); i++) {
        var c = Math.round(Math.random() * (properties.cols - 1));
        var r = Math.round(Math.random() * (properties.rows - 1));
        if (squares[r][c] === null) {
          var duration = Math.round(5 * (Math.random() + 0.5));
          squares[r][c] = new Square(c, r, duration);
        }
      }

      // Spawn squares under the mouse
      if (mousePos != null) {
        var col = Math.round((mousePos.x - properties.sLength / 2) / canvas.width * properties.cols);
        var row = Math.round((mousePos.y - properties.sLength / 2) / canvas.height * properties.rows);

        if (click) {
          squares[row][col] = new Square(col, row, 5, false, "#1564a1");
          click = false;
        } else if (squares[row][col]) {
          squares[row][col].reset();
        } else {
          squares[row][col] = new Square(col, row, 10, false);
        }
      }

      // Remove old squares
      for (var r = 0; r < properties.rows; r++) {
        for (var c = 0; c < properties.cols; c++) {
          if (squares[r][c] != null && squares[r][c].life <= 0) {
            squares[r][c] = null;
          }
        }
      }

      render();

      requestAnimationFrame(step);
    };

    var render = function render() {
      var ctx = canvas.getContext("2d");
      ctx.clearRect(0, 0, canvas.width, canvas.height);
      for (var r = 0; r < properties.rows; r++) {
        for (var c = 0; c < properties.cols; c++) {
          if (squares[r][c] != null) {
            squares[r][c].step(ctx);
          }
        }
      }
    };

    function getMousePos(evt) {
      var rect = canvas.getBoundingClientRect();

      return {
        x: evt.clientX - rect.left,
        y: evt.clientY - rect.top };

    }

    init();
    requestAnimationFrame(step);

    // Helper Function
    var getActiveNum = function getActiveNum() {
      var i = 0;
      for (var r = 0; r < properties.rows; r++) {
        for (var c = 0; c < properties.cols; c++) {
          if (squares[r][c] != null) {
            i++;
          }
        }
      }
      return i;
    };

    var Square = function Square(c, r, life, animIn, color) {

      var opacity = 0;

      if (typeof animIn === "undefined") {
        animIn = true;
        opacity = 0;
      } else {
        animIn = false;
        opacity = 1;
      }

      this.col = c;
      this.row = r;
      this.life = life;
      this.color = color ? color : properties.color;
      this.initialLife = life;
      this.animIn = animIn;
      this.opacity = opacity;

      this.step = function (ctx) {
        this.render(ctx);
        if (this.animIn) {//this.animIn){
          this.opacity = this.opacity + 1 / properties.easeIn * delta;
          if (this.opacity >= 1) {
            this.opacity = 1;
            this.animIn = false;
          }
        } else {
          this.life = this.life - delta;
          if (this.life < 0) {
            this.life = 0;
          }
          this.opacity = Math.round(1 * (this.life / this.initialLife) * 1000) / 1000;
        }
      };

      this.render = function (ctx) {
        var l = properties.sLength;
        ctx.globalAlpha = this.opacity;
        ctx.fillStyle = this.color;
        ctx.fillRect(this.col * l, this.row * l, l, l);

        if (debug === true) {
          ctx.globalAlpha = 1;
          ctx.fillStyle = "#000";
          ctx.font = "12px Arial";

          ctx.fillText(this.col, this.col * l + 2, this.row * l + 12);
          ctx.fillText(this.row, this.col * l + l - 14, this.row * l + 12);
          ctx.fillText(Math.round(this.life), this.col * l + 2, this.row * l + l / 2 + 10);
          ctx.fillText(this.initialLife, this.col * l + 2, this.row * l + l - 4);
          ctx.fillText(delta, this.col * l + l - 24, this.row * l + l / 2 + 10);
          ctx.fillText(this.opacity, this.col * l + l - 24, this.row * l + +l - 4);
        }
      };

      this.reset = function () {
        this.opacity = 1;
        this.life = this.initialLife;
      };
    };
  })();

});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbW1vbi5taW4uanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwiZmlsZSI6InNjcmlwdHMubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7ZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcIkRPTUNvbnRlbnRMb2FkZWRcIiwgZnVuY3Rpb24gKCkge1xuXG4gIChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIHNxdWFyZXMgPSBbXTtcbiAgICB2YXIgY2FudmFzID0gbnVsbDtcbiAgICB2YXIgbGFzdEZyYW1lID0gbmV3IERhdGUoKS5nZXRUaW1lKCk7XG4gICAgdmFyIGRlbHRhID0gMDtcbiAgICB2YXIgbW91c2VQb3MgPSBudWxsO1xuICAgIHZhciBkZWJ1ZyA9IGZhbHNlO1xuICAgIHZhciBjbGljayA9IGZhbHNlO1xuICAgIHZhciBwcm9wZXJ0aWVzID0ge1xuICAgICAgY29sczogNjQsXG4gICAgICByb3dzOiAzMixcbiAgICAgIGNvbG9yOiBcIiMzNjk1ZGVcIixcbiAgICAgIGFsdENvbG9yOiBcIiMxNTY0YTFcIixcbiAgICAgIHNMZW5ndGg6IDAsXG4gICAgICBhY3RpdmVBbXQ6IDAuMjUsXG4gICAgICBlYXNlSW46IDAuMjUgfTtcblxuXG4gICAgdmFyIGluaXQgPSBmdW5jdGlvbiBpbml0KCkge1xuICAgICAgY2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7XG4gICAgICBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdiYWNrZ3JvdW5kJylbMF0uYXBwZW5kQ2hpbGQoY2FudmFzKTtcblxuICAgICAgY2FudmFzLndpZHRoID0gY2FudmFzLm9mZnNldFdpZHRoO1xuICAgICAgY2FudmFzLmhlaWdodCA9IGNhbnZhcy5vZmZzZXRXaWR0aCAvIHByb3BlcnRpZXMuY29scyAqIHByb3BlcnRpZXMucm93cztcbiAgICAgIHByb3BlcnRpZXMuc0xlbmd0aCA9IGNhbnZhcy5vZmZzZXRXaWR0aCAvIHByb3BlcnRpZXMuY29scztcblxuICAgICAgLy8gR2VuZXJhdGUgdGhlIEdyaWRcbiAgICAgIGZvciAodmFyIHIgPSAwOyByIDwgcHJvcGVydGllcy5yb3dzOyByKyspIHtcbiAgICAgICAgc3F1YXJlc1tyXSA9IFtdO1xuICAgICAgICBmb3IgKHZhciBjID0gMDsgYyA8IHByb3BlcnRpZXMuY29sczsgYysrKSB7XG4gICAgICAgICAgc3F1YXJlc1tyXVtjXSA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgY2FudmFzLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIGZ1bmN0aW9uIChldnQpIHtcbiAgICAgICAgbW91c2VQb3MgPSBnZXRNb3VzZVBvcyhldnQpO1xuICAgICAgfSk7XG5cbiAgICAgIGNhbnZhcy5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW91dCcsIGZ1bmN0aW9uIChldnQpIHtcbiAgICAgICAgbW91c2VQb3MgPSBudWxsO1xuICAgICAgfSk7XG5cbiAgICAgIGNhbnZhcy5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCBmdW5jdGlvbiAoZXZ0KSB7XG4gICAgICAgIG1vdXNlUG9zID0gZ2V0TW91c2VQb3MoZXZ0KTtcbiAgICAgICAgY2xpY2sgPSB0cnVlO1xuICAgICAgfSk7XG4gICAgfTtcblxuICAgIHZhciBzdGVwID0gZnVuY3Rpb24gc3RlcCgpIHtcbiAgICAgIGRlbHRhID0gKG5ldyBEYXRlKCkuZ2V0VGltZSgpIC0gbGFzdEZyYW1lKSAvIDEwMDA7XG4gICAgICBsYXN0RnJhbWUgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKTtcblxuICAgICAgLy8gU3Bhd24gbmV3IFNxdWFyZXNcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgTWF0aC5jZWlsKHByb3BlcnRpZXMuY29scyAqIGRlbHRhKTsgaSsrKSB7XG4gICAgICAgIHZhciBjID0gTWF0aC5yb3VuZChNYXRoLnJhbmRvbSgpICogKHByb3BlcnRpZXMuY29scyAtIDEpKTtcbiAgICAgICAgdmFyIHIgPSBNYXRoLnJvdW5kKE1hdGgucmFuZG9tKCkgKiAocHJvcGVydGllcy5yb3dzIC0gMSkpO1xuICAgICAgICBpZiAoc3F1YXJlc1tyXVtjXSA9PT0gbnVsbCkge1xuICAgICAgICAgIHZhciBkdXJhdGlvbiA9IE1hdGgucm91bmQoNSAqIChNYXRoLnJhbmRvbSgpICsgMC41KSk7XG4gICAgICAgICAgc3F1YXJlc1tyXVtjXSA9IG5ldyBTcXVhcmUoYywgciwgZHVyYXRpb24pO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8vIFNwYXduIHNxdWFyZXMgdW5kZXIgdGhlIG1vdXNlXG4gICAgICBpZiAobW91c2VQb3MgIT0gbnVsbCkge1xuICAgICAgICB2YXIgY29sID0gTWF0aC5yb3VuZCgobW91c2VQb3MueCAtIHByb3BlcnRpZXMuc0xlbmd0aCAvIDIpIC8gY2FudmFzLndpZHRoICogcHJvcGVydGllcy5jb2xzKTtcbiAgICAgICAgdmFyIHJvdyA9IE1hdGgucm91bmQoKG1vdXNlUG9zLnkgLSBwcm9wZXJ0aWVzLnNMZW5ndGggLyAyKSAvIGNhbnZhcy5oZWlnaHQgKiBwcm9wZXJ0aWVzLnJvd3MpO1xuXG4gICAgICAgIGlmIChjbGljaykge1xuICAgICAgICAgIHNxdWFyZXNbcm93XVtjb2xdID0gbmV3IFNxdWFyZShjb2wsIHJvdywgNSwgZmFsc2UsIFwiIzE1NjRhMVwiKTtcbiAgICAgICAgICBjbGljayA9IGZhbHNlO1xuICAgICAgICB9IGVsc2UgaWYgKHNxdWFyZXNbcm93XVtjb2xdKSB7XG4gICAgICAgICAgc3F1YXJlc1tyb3ddW2NvbF0ucmVzZXQoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzcXVhcmVzW3Jvd11bY29sXSA9IG5ldyBTcXVhcmUoY29sLCByb3csIDEwLCBmYWxzZSk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLy8gUmVtb3ZlIG9sZCBzcXVhcmVzXG4gICAgICBmb3IgKHZhciByID0gMDsgciA8IHByb3BlcnRpZXMucm93czsgcisrKSB7XG4gICAgICAgIGZvciAodmFyIGMgPSAwOyBjIDwgcHJvcGVydGllcy5jb2xzOyBjKyspIHtcbiAgICAgICAgICBpZiAoc3F1YXJlc1tyXVtjXSAhPSBudWxsICYmIHNxdWFyZXNbcl1bY10ubGlmZSA8PSAwKSB7XG4gICAgICAgICAgICBzcXVhcmVzW3JdW2NdID0gbnVsbDtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmVuZGVyKCk7XG5cbiAgICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZShzdGVwKTtcbiAgICB9O1xuXG4gICAgdmFyIHJlbmRlciA9IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICAgIHZhciBjdHggPSBjYW52YXMuZ2V0Q29udGV4dChcIjJkXCIpO1xuICAgICAgY3R4LmNsZWFyUmVjdCgwLCAwLCBjYW52YXMud2lkdGgsIGNhbnZhcy5oZWlnaHQpO1xuICAgICAgZm9yICh2YXIgciA9IDA7IHIgPCBwcm9wZXJ0aWVzLnJvd3M7IHIrKykge1xuICAgICAgICBmb3IgKHZhciBjID0gMDsgYyA8IHByb3BlcnRpZXMuY29sczsgYysrKSB7XG4gICAgICAgICAgaWYgKHNxdWFyZXNbcl1bY10gIT0gbnVsbCkge1xuICAgICAgICAgICAgc3F1YXJlc1tyXVtjXS5zdGVwKGN0eCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfTtcblxuICAgIGZ1bmN0aW9uIGdldE1vdXNlUG9zKGV2dCkge1xuICAgICAgdmFyIHJlY3QgPSBjYW52YXMuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG5cbiAgICAgIHJldHVybiB7XG4gICAgICAgIHg6IGV2dC5jbGllbnRYIC0gcmVjdC5sZWZ0LFxuICAgICAgICB5OiBldnQuY2xpZW50WSAtIHJlY3QudG9wIH07XG5cbiAgICB9XG5cbiAgICBpbml0KCk7XG4gICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKHN0ZXApO1xuXG4gICAgLy8gSGVscGVyIEZ1bmN0aW9uXG4gICAgdmFyIGdldEFjdGl2ZU51bSA9IGZ1bmN0aW9uIGdldEFjdGl2ZU51bSgpIHtcbiAgICAgIHZhciBpID0gMDtcbiAgICAgIGZvciAodmFyIHIgPSAwOyByIDwgcHJvcGVydGllcy5yb3dzOyByKyspIHtcbiAgICAgICAgZm9yICh2YXIgYyA9IDA7IGMgPCBwcm9wZXJ0aWVzLmNvbHM7IGMrKykge1xuICAgICAgICAgIGlmIChzcXVhcmVzW3JdW2NdICE9IG51bGwpIHtcbiAgICAgICAgICAgIGkrKztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBpO1xuICAgIH07XG5cbiAgICB2YXIgU3F1YXJlID0gZnVuY3Rpb24gU3F1YXJlKGMsIHIsIGxpZmUsIGFuaW1JbiwgY29sb3IpIHtcblxuICAgICAgdmFyIG9wYWNpdHkgPSAwO1xuXG4gICAgICBpZiAodHlwZW9mIGFuaW1JbiA9PT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICBhbmltSW4gPSB0cnVlO1xuICAgICAgICBvcGFjaXR5ID0gMDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGFuaW1JbiA9IGZhbHNlO1xuICAgICAgICBvcGFjaXR5ID0gMTtcbiAgICAgIH1cblxuICAgICAgdGhpcy5jb2wgPSBjO1xuICAgICAgdGhpcy5yb3cgPSByO1xuICAgICAgdGhpcy5saWZlID0gbGlmZTtcbiAgICAgIHRoaXMuY29sb3IgPSBjb2xvciA/IGNvbG9yIDogcHJvcGVydGllcy5jb2xvcjtcbiAgICAgIHRoaXMuaW5pdGlhbExpZmUgPSBsaWZlO1xuICAgICAgdGhpcy5hbmltSW4gPSBhbmltSW47XG4gICAgICB0aGlzLm9wYWNpdHkgPSBvcGFjaXR5O1xuXG4gICAgICB0aGlzLnN0ZXAgPSBmdW5jdGlvbiAoY3R4KSB7XG4gICAgICAgIHRoaXMucmVuZGVyKGN0eCk7XG4gICAgICAgIGlmICh0aGlzLmFuaW1Jbikgey8vdGhpcy5hbmltSW4pe1xuICAgICAgICAgIHRoaXMub3BhY2l0eSA9IHRoaXMub3BhY2l0eSArIDEgLyBwcm9wZXJ0aWVzLmVhc2VJbiAqIGRlbHRhO1xuICAgICAgICAgIGlmICh0aGlzLm9wYWNpdHkgPj0gMSkge1xuICAgICAgICAgICAgdGhpcy5vcGFjaXR5ID0gMTtcbiAgICAgICAgICAgIHRoaXMuYW5pbUluID0gZmFsc2U7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRoaXMubGlmZSA9IHRoaXMubGlmZSAtIGRlbHRhO1xuICAgICAgICAgIGlmICh0aGlzLmxpZmUgPCAwKSB7XG4gICAgICAgICAgICB0aGlzLmxpZmUgPSAwO1xuICAgICAgICAgIH1cbiAgICAgICAgICB0aGlzLm9wYWNpdHkgPSBNYXRoLnJvdW5kKDEgKiAodGhpcy5saWZlIC8gdGhpcy5pbml0aWFsTGlmZSkgKiAxMDAwKSAvIDEwMDA7XG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICAgIHRoaXMucmVuZGVyID0gZnVuY3Rpb24gKGN0eCkge1xuICAgICAgICB2YXIgbCA9IHByb3BlcnRpZXMuc0xlbmd0aDtcbiAgICAgICAgY3R4Lmdsb2JhbEFscGhhID0gdGhpcy5vcGFjaXR5O1xuICAgICAgICBjdHguZmlsbFN0eWxlID0gdGhpcy5jb2xvcjtcbiAgICAgICAgY3R4LmZpbGxSZWN0KHRoaXMuY29sICogbCwgdGhpcy5yb3cgKiBsLCBsLCBsKTtcblxuICAgICAgICBpZiAoZGVidWcgPT09IHRydWUpIHtcbiAgICAgICAgICBjdHguZ2xvYmFsQWxwaGEgPSAxO1xuICAgICAgICAgIGN0eC5maWxsU3R5bGUgPSBcIiMwMDBcIjtcbiAgICAgICAgICBjdHguZm9udCA9IFwiMTJweCBBcmlhbFwiO1xuXG4gICAgICAgICAgY3R4LmZpbGxUZXh0KHRoaXMuY29sLCB0aGlzLmNvbCAqIGwgKyAyLCB0aGlzLnJvdyAqIGwgKyAxMik7XG4gICAgICAgICAgY3R4LmZpbGxUZXh0KHRoaXMucm93LCB0aGlzLmNvbCAqIGwgKyBsIC0gMTQsIHRoaXMucm93ICogbCArIDEyKTtcbiAgICAgICAgICBjdHguZmlsbFRleHQoTWF0aC5yb3VuZCh0aGlzLmxpZmUpLCB0aGlzLmNvbCAqIGwgKyAyLCB0aGlzLnJvdyAqIGwgKyBsIC8gMiArIDEwKTtcbiAgICAgICAgICBjdHguZmlsbFRleHQodGhpcy5pbml0aWFsTGlmZSwgdGhpcy5jb2wgKiBsICsgMiwgdGhpcy5yb3cgKiBsICsgbCAtIDQpO1xuICAgICAgICAgIGN0eC5maWxsVGV4dChkZWx0YSwgdGhpcy5jb2wgKiBsICsgbCAtIDI0LCB0aGlzLnJvdyAqIGwgKyBsIC8gMiArIDEwKTtcbiAgICAgICAgICBjdHguZmlsbFRleHQodGhpcy5vcGFjaXR5LCB0aGlzLmNvbCAqIGwgKyBsIC0gMjQsIHRoaXMucm93ICogbCArICtsIC0gNCk7XG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICAgIHRoaXMucmVzZXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMub3BhY2l0eSA9IDE7XG4gICAgICAgIHRoaXMubGlmZSA9IHRoaXMuaW5pdGlhbExpZmU7XG4gICAgICB9O1xuICAgIH07XG4gIH0pKCk7XG5cbn0pOyJdfQ==
